# Str的常用操作

拼接 长度 截取 检索 大小写转换  除空格和特殊字符

拼接

>>> a = 'hello'
>>> b = 'python'
>>> a+b
'hellopython'
>>> a + 123
Traceback (most recent call last):
  File "<pyshell#3>", line 1, in <module>
    a + 123
TypeError: can only concatenate str (not "int") to str
>>> a + str(123)
'hello123'
>>> len(a)
5
>>> len('人生苦短，我用python')
13

分割

>>> '1,2,3,4,5'.split()
['1,2,3,4,5']
>>> '1 2 3 4 5'.split()
['1', '2', '3', '4', '5']
>>> '12345'.split()
['12345']
>>> '#'.jion(['1', '2', '3', '4', '5'])

连接

>>> '#'.join(['1', '2', '3', '4', '5'])
'1#2#3#4#5'
>>> '#'.join('1 2 3 4 5'.split())
'1#2#3#4#5'

检索

>>> a = 'hello'
>>> a.count('e')
1
>>> a.count('l')
2
>>> a.find('e')
1
>>> a.find('ll')
2
>>> a.find('a')   //a不在hello  find会返回-1
-1
>>> a.find('e',3)// 从第三个位置开始查找
-1
>>> a.index('l')
2
>>> a.index('e')
1
>>> a.index('0')
Traceback (most recent call last):  //index 如果查找没有的 会报错
  File "<pyshell#18>", line 1, in <module>
    a.index('0')
ValueError: substring not found
>>> a.rindex('l')
3
>>> a.startswith('hello')   //判断这个字符串是否以这个开头的   返回布尔类型
True
>>> a.startswith('abc')
False

大小写转换
>>> a.upper()
'HELLO'

除空格和特殊字符

>>> '     hello     '.strip()
'hello'
>>> '     hello     '.lstrip()
'hello     '
>>> '     hello     '.rstrip()
'     hello'
>>> '###hello##'.strip('#')
'hello'

## 格式化输出

%     format
%

>>> '我是一个新的字符串，这有一个数字 %d' % 1
'我是一个新的字符串，这有一个数字 1'
>>> '我是一个新的字符串，这有一个数字 %8d' % 1
'我是一个新的字符串，这有一个数字        1'
>>> '我是一个新的字符串，这有一个数字 %08d' % 1保留8位
'我是一个新的字符串，这有一个数字 00000001'
>>> '我是一个新的字符串，这有一个浮点 %0.8d' % 1.66666
'我是一个新的字符串，这有一个浮点 00000001'
>>> '我是一个新的字符串，这有一个浮点 %0.8f' % 1.66666
'我是一个新的字符串，这有一个浮点 1.66666000'
>>> '我是一个新的字符串，这有一个浮点 %0.2f' % 1.66666
'我是一个新的字符串，这有一个浮点 1.67'
>>> '我是一个新的字符串，这有一个浮点 %05.2f' % 1.66666  带小数点 一共保留5位
'我是一个新的字符串，这有一个浮点 01.67'

format

'我是一个新的字符串，这有一个数字 10,这有一个字符串 abc,这有一个浮点1.66666'
>>> '我是一个金额的表示方式： {}' .format(10000)
'我是一个金额的表示方式： 10000'
    '我是一个金额的表示方式：{:,.f}元' .format(10000)  //：表示参数的开始    ，  表示分隔   
ValueError: Format specifier missing precision
>>> '我是一个金额的表示方式：{:,.2f}元' .format(10000)
'我是一个金额的表示方式：10,000.00元'
>>> '我是一个金额的表示方式：{:,.2f}元' .format(12345678.98745)
'我是一个金额的表示方式：12,345,678.99元'


>>> '{0:d}的十六进制{0:#x}'.format(100)   //0:d表示取第一位
'100的十六进制0x64

## 字符编码

utf-8  GBK GB2312

encode方法 字符串str -> 字节流bytes

decode方法 字节流bytes ->字符串str

>>> a = '人生苦短，我用Python'
>>> len(a)
13
>>> a.encode()
b'\xe4\xba\xba\xe7\x94\x9f\xe8\x8b\xa6\xe7\x9f\xad\xef\xbc\x8c\xe6\x88\x91\xe7\x94\xa8Python'
>>> a.encode('UTF8')
b'\xe4\xba\xba\xe7\x94\x9f\xe8\x8b\xa6\xe7\x9f\xad\xef\xbc\x8c\xe6\x88\x91\xe7\x94\xa8Python'
>>> a.emcode('GNK')
Traceback (most recent call last):
  File "<pyshell#4>", line 1, in <module>
    a.emcode('GNK')
AttributeError: 'str' object has no attribute 'emcode'
>>> a.encode('gbk')
b'\xc8\xcb\xc9\xfa\xbf\xe0\xb6\xcc\xa3\xac\xce\xd2\xd3\xc3Python'
>>> len(a.encode('GBK'))
20
>>> a.encode().decode()
'人生苦短，我用Python'
>>> a.encode('utf8').decode('gbk')
'浜虹敓鑻︾煭锛屾垜鐢≒ython'





## 正则表达式

>>> import re
>>> a = '123456'
>>> b = '333244'
>>> re.match(r"",a)
>>> <re.Match object; span=(0, 0), match=''>
>>> re.match(r"\d{6}",a)
>>> <re.Match object; span=(0, 6), match='123456'>
>>> re.match(r"\d{6}",b)
>>> <re.Match object; span=(0, 6), match='333244'>
>>> c = '111222333'
>>> re.match(r"\d{6}",c)
>>> <re.Match object; span=(0, 6), match='111222'>
>>> re.match(r"^\d{6}$",c)
>>> re.match(r"^\d{6}$",a)
>>> <re.Match object; span=(0, 6), match='123456'>
>>> d = '800455'
>>> e = '801234'
>>> re.match(r"^8\d{5}$",d)
>>> <re.Match object; span=(0, 6), match='800455'>
>>> re.match(r"^8\d{5}$",e)
>>> <re.Match object; span=(0, 6), match='801234'>
>>> f = '13000000000'
>>> g = '18655555555'
>>> re.match(r"^1[23456789]\d{9}$",g)
>>> <re.Match object; span=(0, 11), match='18655555555'>
>>> re.match(r"^1[23456789]\d{9}$",f)
>>> <re.Match object; span=(0, 11), match='13000000000'>